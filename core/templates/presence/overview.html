{% extends "index.html" %}
{% load i18n %}

{% block content %}
<h2 class="headline">{% trans "Presences" %}</h2>

{% for n, gr in groups %}
<h3>{{ n }}</h3>
<ul>
  {% for g in gr %}
  <form action="{% url core.views.presence_for_group g.id %}" method="post">
  {% csrf_token %}
  <li><strong>{{ g }}</strong>
    {% trans "From" %} <input type="text" class="dateWidget" name="start" />
    {% trans "to" %} <input type="text" class="dateWidget" name="end" />
    <input type="submit" value="{% trans "Show" %}" />
  </li>
  </form>
  {% endfor %}
  </ul>
{% empty %}
<h3>{% trans "No groups found." %}</h3>
{% endfor %}

<script>
$(document).ready(function() {
  $('a[title]').qtip();
  $('.dateWidget').datepicker({
    'dateFormat': 'dd.mm.yy',
    'dayNamesMin': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
    'monthNames': ['Januar', 'Februar', 'MÃ¤rz', 'April', 'Mai', 'Juni',
                   'Juli', 'August', 'September', 'Oktober', 'November',
                   'Dezember'],
    'showWeek': true,
    'firstDay': 1,
    'weekHeader': 'Wo',
    'nextText': '{% trans "next" %}',
    'prevText': '{% trans "prev" %}'
  });
});
</script>

{% endblock %}
